<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Krizone | The art unleash</title>
    <meta name="robots" content="noindex, nofollow" />
    <meta
      name="description"
      content="KRIZONE is a media platform offering exclusive conversations with individuals from the art and fashion world. Our motto ‘the art unleash’ is about creating an access point and a zone to inspire creativity."
    />
    <link rel="stylesheet" type="text/css" href="styles.css" />
    <script src="https://cdn.emailjs.com/dist/email.min.js"></script>
    <script src="config.js"></script>
  </head>
  <body>
    <div
      class="building-container building-container-article building-container-no-columns"
    >
      <div class="logo">
        <a class="" href="index.html">
          <img src="media/krizone_logo.png" alt="Logo"
        /></a>
      </div>
      <nav>
        <ul>
          <li><a href="fashion.html">FASHION</a></li>
          <li>
            <a href="art.html">ART</a>
          </li>
          <li><a href="about-us.html">ABOUT US</a></li>
        </ul>
      </nav>
      <div class="about-us">
        <div id="unsubscribe-email-container">
          <p>
            We are sad to see you go. To unsubscribe, please press the
            'Unsubscribe' button
          </p>

          <form id="subscriptionForm">
            <input
              placeholder="Enter email here"
              type="email"
              id="email"
              name="email"
              required
            />
            <input id="submitButton" type="submit" value="Unsubscribe" />
          </form>
          <br /><br />

          <!-- Include your Email.js user ID and template ID -->
          <script>
            // Function to get query parameter value from URL
            function getQueryParamValue(parameter) {
              const urlParams = new URLSearchParams(window.location.search);
              return urlParams.get(parameter);
            }

            // Get email from the URL query parameter
            var userEmail = getQueryParamValue("email");
            if (userEmail) {
              document.getElementById("email").value = userEmail;
            }
          </script>
          <script>
            emailjs.init("IBERi_izVe-AibCki"); // Replace with your Email.js user ID
          </script>
          <script>
            document.getElementById("subscriptionForm").onsubmit = function (
              event
            ) {
              event.preventDefault();

              // Disable the submit button
              document.getElementById("submitButton").disabled = true;
              document.getElementById("submitButton").value = "Please wait";

              // Get the email address from the form
              var email = document.getElementById("email").value;

              // Send the email using Email.js
              emailjs
                .send("service_d8r8qii", "template_wizw9jw", {
                  email: email,
                })
                .then(
                  function (response) {
                    console.log("Unsubscribed successfully", response);
                    // Show success notification
                    showNotification("Unsubscribed successfully", "success");
                    document.getElementById("subscriptionForm").reset();
                  },
                  function (error) {
                    console.log("Unsubscribe failed to send", error);
                    // Show error notification
                    showNotification(
                      "Unsubscribe failed. Please try again later.",
                      "error"
                    );
                  }
                );
            };

            function showNotification(message, type) {
              var notification = document.createElement("div");
              notification.className = "notification " + type;
              notification.appendChild(document.createTextNode(message));
              document.body.appendChild(notification);

              // Center the notification
              notification.style.position = "fixed";
              notification.style.top = "50%";
              notification.style.left = "50%";
              notification.style.transform = "translate(-50%, -50%)";

              // Remove the notification after 3 seconds
              setTimeout(function () {
                document.body.removeChild(notification);
                document.getElementById("submitButton").disabled = false;
                document.getElementById("submitButton").value = "Unsubscribe";
              }, 3000);
            }
          </script>

          <br />
          <p>
            <b>For further enquires, please contact: </b><br />
            <a href="mailto:KRIZONEART@GMAIL.COM">KRIZONEART@GMAIL.COM</a>
          </p>
          <p>
            <b>FIND US ON INSTAGRAM:</b
            ><a
              href="https://instagram.com/kri.zone?igshid=OGQ5ZDc2ODk2ZA%3D%3D&utm_source=qr"
              >@KRI.ZONE</a
            >
          </p>
          <br />
          <p style="padding-bottom: 50px; font-size: 14px">
            - Established 2023 -
          </p>
        </div>
      </div>
      <img
        class="building-botom-mobile"
        src="media/building_bottom_mobile2.jpg"
        alt="Logo"
      />
    </div>
  </body>
</html>
